选择是否在方法上使用值或指针接收器可能很困难，尤其是对于新的Go程序员。如果有疑问，请使用指针，但有时候值接收器有意义，通常是出于效率的原因，例如小的不变结构或基本类型的值。一些有用的指导：

* 如果接收器是map，func或chan，则不要使用指向它们的指针。**如果接收器是切片并且该方法不重新切片或重新分配切片，则不要使用指向它的指针。（append 可能返回一个新的地址）**

* 如果该方法需要改变接收器，则接收器必须是指针。

* **如果接收器是包含sync.Mutex或类似同步字段的结构，则接收器必须是避免复制的指针**。

* 如果接收器是大型结构或数组，则指针接收器更有效。大到多大？假设它相当于将所有元素作为参数传递给方法。如果感觉太大，对接收器来说也太大了。

* 函数或方法可以同时或在从这种方法调用时改变接收器吗？在调用方法时，值类型会创建接收器的副本，因此外部更新将不会应用于此接收器。如果必须在原始接收器中看到更改，则接收器必须是指针。
  如果接收器是结构，数组或切片，并且其任何元素是指向可能变异的东西的指针，则更喜欢指针接收器，因为它将使读者更清楚地意图。
  
* 如果接收器是一个小型数组或结构，它自然是一个值类型（例如，类似于time.Time类型），没有可变字段和没有指针，或者只是一个简单的基本类型，如int或string，价值接收者是有道理的值接收器可以减少可以生成的垃圾量;如果将值传递给值方法，则可以使用堆栈上的副本而不是在堆上进行分配。 （编译器试图避免这种分配，但它不能总是成功。）不要为此而选择值接收器类型而不先进行分析。

* 最后，如有疑问，请使用指针接收器。

  

  